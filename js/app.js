(()=>{"use strict";const e=document.querySelector("div.search");function t(){let t=document.querySelector("ul.repo-list");t||(t=document.createElement("ul"),t.classList.add("repo-list"));const n=document.createElement("li");n.classList.add("repo"),t.append(n);const o=document.createElement("div");o.classList.add("repo-content"),n.append(o);const r=document.createElement("a");r.classList.add("repo-name"),r.setAttribute("target","_blank"),o.append(r);const s=document.createElement("span");s.classList.add("repo-user"),o.append(s);const a=document.createElement("span");a.classList.add("repo-description"),o.append(a);const c=document.createElement("span");return c.classList.add("repo-lang"),o.append(c),e.after(t),n}function n(e){e.remove()}function o(o){const r=document.querySelector(".repo-list"),s=document.querySelector(".error");if(r&&n(r),s&&n(s),"string"==typeof o)!function(t){const n=document.createElement("span");n.classList.add("error"),n.innerHTML=t,e.after(n)}(o);else if("object"==typeof o)for(let e of o.items){let n=t(),o=n.querySelector(".repo-name");o.innerHTML="<span>name:</span> "+e.name,o.setAttribute("href",e.html_url),n.querySelector(".repo-user").innerHTML="<span>user:</span> "+e.owner.login,n.querySelector(".repo-description").innerHTML="<span>description:</span> "+e.description,n.querySelector(".repo-lang").innerHTML="<span>language:</span> "+e.language}}window.onload=e=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const e=document.querySelector(".search-form");["submit","keydown"].forEach((t=>{e.addEventListener(t,(e=>async function(e){let t;if("keydown"==(e=e||window.event).type&&"Enter"!=e.key)return;e.preventDefault();const n=Object.fromEntries(new FormData(e.target.closest(".search-form")));if(""==n.searchInput.trim())return t="Пустая строка",void o(t);const r=await fetch(new URL(`https://api.github.com/search/repositories?q=${n.searchInput}&per_page=10`));r.ok?(t=await r.json(),0==t.items.length&&(t="Ничего не найдено")):t="Ошибка "+r.status,o(t)}(e)))}))}()}})();